{"ast":null,"code":"import _objectSpread from\"C:/Users/Turbo/IdeaProjects/todojs/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/Users/Turbo/IdeaProjects/todojs/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:/Users/Turbo/IdeaProjects/todojs/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Turbo/IdeaProjects/todojs/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Turbo/IdeaProjects/todojs/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Turbo/IdeaProjects/todojs/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import NewTaskForm from\"../NewTaskForm\";import'./App.css';import TaskList from\"../TaskList\";import Footer from\"../Footer\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.maxId=100;_this.state={todoData:[_this.createTodoItem(\"Completed task1\"),_this.createTodoItem(\"Completed task2\"),_this.createTodoItem(\"Completed task3\")],filter:'all'};_this.deleteItem=function(id){_this.setState(function(_ref){var todoData=_ref.todoData;var idx=todoData.findIndex(function(el){return el.id===id;});var newArray=[].concat(_toConsumableArray(todoData.slice(0,idx)),_toConsumableArray(todoData.slice(idx+1)));return{todoData:newArray};});};_this.addItem=function(text){var newItem=_this.createTodoItem(text);_this.setState(function(_ref2){var todoData=_ref2.todoData;var newArr=[].concat(_toConsumableArray(todoData),[newItem]);return{todoData:newArr};});};_this.onItemEditButton=function(id){_this.setState(function(state){var items=_this.onEditToggle(id);return{items:items};});};_this.onLabelChange=function(id,label){_this.onItemEditButton(id);_this.setState(function(state){var element=state.todoData.findIndex(function(el){return el.id===id;});var item=_objectSpread(_objectSpread({},state.todoData[element]),{},{label:label});var items=[].concat(_toConsumableArray(state.todoData.slice(0,element)),[item],_toConsumableArray(state.todoData.slice(element+1)));return{todoData:items};});};_this.onActiveCounter=function(id){_this.setState(function(_ref3){var todoData=_ref3.todoData;var idx=todoData.findIndex(function(el){return el.id===id;});var oldItem=todoData[idx];var newItem=_objectSpread(_objectSpread({},oldItem),{},{done:!oldItem.done,checked:!oldItem.checked});var newArray=[].concat(_toConsumableArray(todoData.slice(0,idx)),[newItem],_toConsumableArray(todoData.slice(idx+1)));return{todoData:newArray};});};_this.onEditToggle=function(id){_this.setState(function(_ref4){var todoData=_ref4.todoData;var idx=todoData.findIndex(function(el){return el.id===id;});var oldItem=todoData[idx];var newItem=_objectSpread(_objectSpread({},oldItem),{},{editing:!oldItem.editing});var newArray=[].concat(_toConsumableArray(todoData.slice(0,idx)),[newItem],_toConsumableArray(todoData.slice(idx+1)));return{todoData:newArray};});};_this.onClearCompleted=function(){_this.setState(function(_ref5){var todoData=_ref5.todoData;var newArray=todoData.filter(function(el){return el.done===false;});console.log(\"clearCompleted\",newArray);return{todoData:newArray};});};_this.onFilterChange=function(filter){_this.setState({filter:filter});console.log(\"filter\",filter);};_this.filterToDos=function(todos,filter){if(filter==='all'){return todos;}if(filter==='active'){return todos.filter(function(todo){return!todo.done;});}if(filter==='completed'){return todos.filter(function(todo){return todo.done;});}};return _this;}_createClass(App,[{key:\"createTodoItem\",value:function createTodoItem(label){return{label:label,done:false,id:this.maxId++,time:Date.now(),checked:false,editing:false};}},{key:\"render\",value:function render(){var _this$state=this.state,todoData=_this$state.todoData,filter=_this$state.filter,time=_this$state.time;var visibleItems=this.filterToDos(todoData,filter);var doneItem=todoData.filter(function(el){return el.done;}).length;var activeItem=todoData.length-doneItem;return/*#__PURE__*/_jsxs(\"section\",{className:\"todoapp\",children:[/*#__PURE__*/_jsx(NewTaskForm,{activeItem:activeItem,onItemAdd:this.addItem}),/*#__PURE__*/_jsx(TaskList,{time:time,todos:visibleItems,onDeletedId:this.deleteItem,onActiveCounter:this.onActiveCounter,onLabelChange:this.onLabelChange,onItemEditButton:this.onItemEditButton}),/*#__PURE__*/_jsx(Footer,{filter:filter,activeItem:activeItem,onClearCompleted:this.onClearCompleted,onFilterChange:this.onFilterChange})]});}}]);return App;}(React.Component);export{App as default};;","map":{"version":3,"sources":["C:/Users/Turbo/IdeaProjects/todojs/src/Components/App/App.js"],"names":["React","NewTaskForm","TaskList","Footer","App","maxId","state","todoData","createTodoItem","filter","deleteItem","id","setState","idx","findIndex","el","newArray","slice","addItem","text","newItem","newArr","onItemEditButton","items","onEditToggle","onLabelChange","label","element","item","onActiveCounter","oldItem","done","checked","editing","onClearCompleted","console","log","onFilterChange","filterToDos","todos","todo","time","Date","now","visibleItems","doneItem","length","activeItem","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport NewTaskForm from \"../NewTaskForm\";\r\n\r\nimport './App.css'\r\nimport TaskList from \"../TaskList\";\r\nimport Footer from \"../Footer\";\r\n\r\n\r\nexport default class App extends React.Component {\r\n\r\n    maxId = 100;\r\n    state = {\r\n        todoData: [\r\n            this.createTodoItem(\"Completed task1\"),\r\n            this.createTodoItem(\"Completed task2\"),\r\n            this.createTodoItem(\"Completed task3\"),\r\n        ],\r\n        filter: 'all',\r\n    };\r\n\r\n    createTodoItem (label) {\r\n        return {\r\n            label,\r\n            done: false,\r\n            id: this.maxId++,\r\n            time: Date.now(),\r\n            checked: false,\r\n            editing: false\r\n        };\r\n    };\r\n\r\n    deleteItem = (id) =>{\r\n\r\n        this.setState(({todoData})=>{\r\n\r\n            const idx = todoData.findIndex((el)=>el.id===id);\r\n            const newArray = [...todoData.slice(0,idx),...todoData.slice(idx+1)];\r\n           return {\r\n               todoData:newArray\r\n           };\r\n\r\n        });\r\n\r\n    };\r\n\r\n    addItem = (text)=>{\r\n         const newItem = this.createTodoItem(text);\r\n\r\n         this.setState(({todoData})=>{\r\n            const newArr = [\r\n                ...todoData,\r\n                newItem\r\n            ];\r\n             return {todoData: newArr}\r\n\r\n         });\r\n    };\r\n\r\n    onItemEditButton = (id) => {\r\n        this.setState((state) => {\r\n            const items = this.onEditToggle(id);\r\n            return { items };\r\n        });\r\n    };\r\n\r\n    onLabelChange = (id, label) => {\r\n        this.onItemEditButton(id);\r\n        this.setState((state) => {\r\n            const element = state.todoData.findIndex((el) => el.id === id);\r\n            const item = { ...state.todoData[element], label };\r\n            const items = [...state.todoData.slice(0, element), item, ...state.todoData.slice(element + 1)];\r\n            return { todoData: items };\r\n        });\r\n    };\r\n\r\n    onActiveCounter = (id) => {\r\n\r\n        this.setState(({ todoData })=>{\r\n            const idx = todoData.findIndex((el)=>el.id===id);\r\n\r\n            const oldItem = todoData[idx];\r\n            const newItem = {\r\n                ...oldItem,\r\n                done: !oldItem.done,\r\n                checked: !oldItem.checked,\r\n\r\n            };\r\n\r\n\r\n            const newArray = [...todoData.slice(0,idx),\r\n                newItem,\r\n                ...todoData.slice(idx+1)\r\n            ];\r\n\r\n            return {\r\n                todoData:newArray\r\n            };\r\n        });\r\n\r\n    };\r\n\r\n    onEditToggle = (id) => {\r\n\r\n        this.setState(({ todoData })=>{\r\n            const idx = todoData.findIndex((el)=>el.id===id);\r\n\r\n            const oldItem = todoData[idx];\r\n            const newItem = {\r\n                ...oldItem,\r\n                editing: !oldItem.editing,\r\n            };\r\n\r\n            const newArray = [...todoData.slice(0,idx),\r\n                newItem,\r\n                ...todoData.slice(idx+1)\r\n            ];\r\n\r\n            return {\r\n                todoData:newArray\r\n            };\r\n        });\r\n\r\n    };\r\n\r\n    onClearCompleted = () => {\r\n        this.setState(({todoData})=> {\r\n            const newArray = todoData.filter(el => el.done === false);\r\n            console.log(\"clearCompleted\", newArray)\r\n            return ({todoData: newArray});\r\n        });\r\n    };\r\n\r\n    onFilterChange = (filter) => {\r\n        this.setState({filter});\r\n        console.log(\"filter\",filter)\r\n\r\n    }\r\n\r\n    filterToDos = (todos, filter) => {\r\n        if (filter === 'all'){\r\n            return todos;\r\n        }\r\n        if (filter === 'active'){\r\n            return todos.filter(todo => !todo.done)\r\n        }\r\n        if (filter === 'completed'){\r\n            return todos.filter(todo => todo.done)\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const { todoData, filter, time } = this.state;\r\n        const visibleItems = this.filterToDos(todoData, filter)\r\n        const doneItem = todoData.filter((el)=> el.done).length;\r\n        const activeItem = todoData.length-doneItem;\r\n\r\n        return(\r\n            <section className=\"todoapp\">\r\n                <NewTaskForm\r\n                    activeItem={activeItem}\r\n                    onItemAdd = {this.addItem}/>\r\n                <TaskList\r\n                    time={time}\r\n                    todos = {visibleItems}\r\n                    onDeletedId={this.deleteItem}\r\n                    onActiveCounter={this.onActiveCounter}\r\n                    onLabelChange={this.onLabelChange}\r\n                    onItemEditButton={this.onItemEditButton}/>\r\n\r\n\r\n\r\n\r\n                <Footer\r\n                    filter = {filter}\r\n                    activeItem={activeItem}\r\n                    onClearCompleted={this.onClearCompleted}\r\n                    onFilterChange={this.onFilterChange}/>\r\n            </section>\r\n        );\r\n    };\r\n\r\n};"]},"metadata":{},"sourceType":"module"}