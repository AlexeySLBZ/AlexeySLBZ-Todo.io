{"ast":null,"code":"import _objectSpread from\"C:/Users/Turbo/IdeaProjects/todojs/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/Users/Turbo/IdeaProjects/todojs/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:/Users/Turbo/IdeaProjects/todojs/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Turbo/IdeaProjects/todojs/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Turbo/IdeaProjects/todojs/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Turbo/IdeaProjects/todojs/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import NewTaskForm from\"../NewTaskForm\";import'./App.css';import TaskList from\"../TaskList\";import Footer from\"../Footer\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.maxId=100;_this.state={todoData:[_this.createTodoItem(\"Completed task1\"),_this.createTodoItem(\"Completed task2\"),_this.createTodoItem(\"Completed task3\")],filter:'all'};_this.deleteItem=function(id){_this.setState(function(_ref){var todoData=_ref.todoData;var idx=todoData.findIndex(function(el){return el.id===id;});var newArray=[].concat(_toConsumableArray(todoData.slice(0,idx)),_toConsumableArray(todoData.slice(idx+1)));return{todoData:newArray};});};_this.addItem=function(text){var newItem=_this.createTodoItem(text);_this.setState(function(_ref2){var todoData=_ref2.todoData;var newArr=[].concat(_toConsumableArray(todoData),[newItem]);return{todoData:newArr};});};_this.onActiveCounter=function(id){_this.setState(function(_ref3){var todoData=_ref3.todoData;var idx=todoData.findIndex(function(el){return el.id===id;});var oldItem=todoData[idx];var newItem=_objectSpread(_objectSpread({},oldItem),{},{done:!oldItem.done});var newArray=[].concat(_toConsumableArray(todoData.slice(0,idx)),[newItem],_toConsumableArray(todoData.slice(idx+1)));return{todoData:newArray};});};_this.onClearCompleted=function(){_this.setState(function(_ref4){var todoData=_ref4.todoData;var newArray=todoData.filter(function(el){return el.done===false;});console.log(\"clearCompleted\",newArray);return{todoData:newArray};});};_this.onFilterChange=function(filter){_this.setState({filter:filter});console.log(\"filter\",filter);};_this.filterToDos=function(todos,filter){if(filter==='all'){return todos;}if(filter==='active'){return todos.filter(function(todo){return!todo.done;});}if(filter==='completed'){return todos.filter(function(todo){return todo.done;});}};return _this;}_createClass(App,[{key:\"createTodoItem\",value:function createTodoItem(label){return{label:label,done:false,id:this.maxId++,time:Date.now()};}},{key:\"render\",value:function render(){var _this$state=this.state,todoData=_this$state.todoData,filter=_this$state.filter,time=_this$state.time;var visibleItems=this.filterToDos(todoData,filter);var doneItem=todoData.filter(function(el){return el.done;}).length;var activeItem=todoData.length-doneItem;return/*#__PURE__*/_jsxs(\"section\",{className:\"todoapp\",children:[/*#__PURE__*/_jsx(NewTaskForm,{activeItem:activeItem,onItemAdd:this.addItem}),/*#__PURE__*/_jsx(TaskList,{time:time,todos:visibleItems,onDeletedId:this.deleteItem,onActiveCounter:this.onActiveCounter}),/*#__PURE__*/_jsx(Footer,{filter:filter,activeItem:activeItem,onClearCompleted:this.onClearCompleted,onFilterChange:this.onFilterChange})]});}}]);return App;}(React.Component);export{App as default};;","map":{"version":3,"sources":["C:/Users/Turbo/IdeaProjects/todojs/src/Components/App/App.js"],"names":["React","NewTaskForm","TaskList","Footer","App","maxId","state","todoData","createTodoItem","filter","deleteItem","id","setState","idx","findIndex","el","newArray","slice","addItem","text","newItem","newArr","onActiveCounter","oldItem","done","onClearCompleted","console","log","onFilterChange","filterToDos","todos","todo","label","time","Date","now","visibleItems","doneItem","length","activeItem","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport NewTaskForm from \"../NewTaskForm\";\r\n\r\nimport './App.css'\r\nimport TaskList from \"../TaskList\";\r\nimport Footer from \"../Footer\";\r\n\r\n\r\nexport default class App extends React.Component {\r\n\r\n\r\n    maxId = 100;\r\n    state = {\r\n        todoData: [\r\n            this.createTodoItem(\"Completed task1\"),\r\n            this.createTodoItem(\"Completed task2\"),\r\n            this.createTodoItem(\"Completed task3\"),\r\n        ],\r\n        filter: 'all',\r\n    };\r\n\r\n    createTodoItem (label) {\r\n        return {\r\n            label,\r\n            done: false,\r\n            id: this.maxId++,\r\n            time: Date.now(),\r\n        };\r\n    };\r\n\r\n    deleteItem = (id) =>{\r\n\r\n        this.setState(({todoData})=>{\r\n\r\n            const idx = todoData.findIndex((el)=>el.id===id);\r\n            const newArray = [...todoData.slice(0,idx),...todoData.slice(idx+1)];\r\n           return {\r\n               todoData:newArray\r\n           };\r\n\r\n        });\r\n\r\n    };\r\n\r\n    addItem = (text)=>{\r\n         const newItem = this.createTodoItem(text);\r\n\r\n         this.setState(({todoData})=>{\r\n            const newArr = [\r\n                ...todoData,\r\n                newItem\r\n            ];\r\n             return {todoData: newArr}\r\n\r\n         });\r\n    };\r\n\r\n    onActiveCounter = (id) => {\r\n\r\n        this.setState(({ todoData })=>{\r\n            const idx = todoData.findIndex((el)=>el.id===id);\r\n\r\n            const oldItem = todoData[idx];\r\n            const newItem = {...oldItem,\r\n                done:!oldItem.done};\r\n\r\n            const newArray = [...todoData.slice(0,idx),\r\n                newItem,\r\n                ...todoData.slice(idx+1)\r\n            ];\r\n\r\n            return {\r\n                todoData:newArray\r\n            };\r\n        });\r\n\r\n    };\r\n\r\n\r\n    onClearCompleted = () => {\r\n        this.setState(({todoData})=> {\r\n            const newArray = todoData.filter(el => el.done === false);\r\n            console.log(\"clearCompleted\", newArray)\r\n            return ({todoData: newArray});\r\n        });\r\n    };\r\n\r\n    onFilterChange = (filter) => {\r\n        this.setState({filter});\r\n        console.log(\"filter\",filter)\r\n\r\n    }\r\n\r\n    filterToDos = (todos, filter) => {\r\n        if (filter === 'all'){\r\n            return todos;\r\n        }\r\n        if (filter === 'active'){\r\n            return todos.filter(todo => !todo.done)\r\n        }\r\n        if (filter === 'completed'){\r\n            return todos.filter(todo => todo.done)\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const { todoData, filter, time } = this.state;\r\n        const visibleItems = this.filterToDos(todoData, filter)\r\n        const doneItem = todoData.filter((el)=> el.done).length;\r\n        const activeItem = todoData.length-doneItem;\r\n\r\n        return(\r\n            <section className=\"todoapp\">\r\n                <NewTaskForm\r\n                    activeItem={activeItem}\r\n                    onItemAdd = {this.addItem}/>\r\n                <TaskList\r\n                    time={time}\r\n                    todos = {visibleItems}\r\n                    onDeletedId={this.deleteItem}\r\n                    onActiveCounter={this.onActiveCounter}/>\r\n                <Footer\r\n                    filter = {filter}\r\n                    activeItem={activeItem}\r\n                    onClearCompleted={this.onClearCompleted}\r\n                    onFilterChange={this.onFilterChange}/>\r\n            </section>\r\n        );\r\n    };\r\n\r\n};"]},"metadata":{},"sourceType":"module"}